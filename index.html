<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Steam Discount Tracker</title>
  <style>
    body {
      background: #1b2838;
      color: white;
      font-family: Arial;
      margin: 0;
    }

    header {
      background: #171a21;
      padding: 15px;
      text-align: center;
      font-size: 22px;
      font-weight: bold;
    }

    .category-bar {
      text-align: center;
      padding: 10px;
    }

    .category-btn {
      background: #2a475e;
      border: none;
      color: white;
      padding: 8px 15px;
      margin: 5px;
      cursor: pointer;
    }

    .category-btn:hover {
      background: #66c0f4;
      color: black;
    }

    .game-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
      padding: 20px;
    }

    .game-card {
      background: #2a475e;
      padding: 10px;
      text-align: center;
      cursor: pointer;
      transition: 0.2s;
    }

    .game-card:hover {
      transform: scale(1.05);
      background: #66c0f4;
      color: black;
    }

    .game-card img {
      width: 100%;
    }

    .discount {
      color: #00ff7f;
      font-weight: bold;
    }
  </style>
</head>

<body>

<header>ğŸ”¥ Steam í• ì¸ ê²Œì„ ëª¨ìŒ</header>

<div class="category-bar">
  <button class="category-btn" onclick="loadGames('rpg')">RPG</button>
  <button class="category-btn" onclick="loadGames('strategy')">ì „ëµ</button>
  <button class="category-btn" onclick="loadGames('simulation')">ì‹œë®¬</button>
  <button class="category-btn" onclick="loadGames('city')">ë„ì‹œê±´ì„¤</button>
</div>

<div class="game-grid" id="gameGrid"></div>

<script>
async function loadGames(category) {
  const grid = document.getElementById("gameGrid");
  grid.innerHTML = "ë¡œë”© ì¤‘...";

  const response = await fetch("https://www.cheapshark.com/api/1.0/deals?storeID=1&upperPrice=60&pageSize=20");
  const data = await response.json();

  grid.innerHTML = "";

  data.forEach(game => {
    const card = document.createElement("div");
    card.className = "game-card";

    card.onclick = () => {
      window.open(`https://store.steampowered.com/app/${game.steamAppID}`, "_blank");
    };

    card.innerHTML = `
      <img src="${game.thumb}">
      <h4>${game.title}</h4>
      <p class="discount">-${Math.round(game.savings)}%</p>
      <p>$${game.salePrice}</p>
    `;

    grid.appendChild(card);
  });
}

// ì²˜ìŒ ë¡œë”©
loadGames("rpg");
</script>

</body>
</html>